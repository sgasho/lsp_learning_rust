
# Lesson 1-4: 便箋の中身を理解しよう！ (JSONのパース)

LSPメッセージの「封筒」と「便箋」を分けることができるようになり、さらに封筒から「便箋のページ数」を読み取れるようになりましたね。素晴らしいです！

今回は、いよいよ「便箋」の中身、つまり **JSON** を理解する番です。

## JSONってなあに？

JSON (JavaScript Object Notation) は、コンピューター同士が情報をやり取りするための、とても人気のある「言葉」です。人間が読んでも分かりやすく、コンピューターが処理するのも簡単なので、LSPだけでなく、インターネット上の様々な場所で使われています。

JSONは、主に以下の2つの形で情報を表現します。

1.  **オブジェクト (Object):** `{}` で囲まれ、`"名前": 値` のペアがカンマで区切られて並びます。まるで辞書や名簿のようです。
    例: `{"name": "Alice", "age": 30}`

2.  **配列 (Array):** `[]` で囲まれ、値がカンマで区切られて並びます。まるでリストや順番待ちの列のようです。
    例: `[1, 2, 3]`

値には、文字列（`"..."`）、数値、真偽値（`true` / `false`）、`null`、そして別のオブジェクトや配列を入れることができます。

## RustでJSONをパースする

RustでJSONを扱うには、`serde` と `serde_json` という2つの強力なクレート（ライブラリ）を使います。

*   `serde`: Rustのデータ構造と、JSONのような外部のデータ形式との間で、データを変換するためのフレームワークです。
*   `serde_json`: `serde` を使ってJSONを扱うための具体的な実装です。

`serde_json::from_str` 関数を使うと、JSON文字列をRustのデータ構造に変換（パース）できます。この関数は `Result` 型を返すので、パースが成功したか失敗したかを安全に扱えます。

```rust
use serde_json::Value;

let json_str = r#"{"key":"value"}"#;
let result: Result<Value, serde_json::Error> = serde_json::from_str(json_str);

match result {
    Ok(value) => { /* パース成功 */ },
    Err(e) => { /* パース失敗 */ },
}
```

`Value` は、JSONのどんな形（オブジェクト、配列、文字列、数値など）でも表現できる、汎用的な型です。

## やってみよう！

あなたの今回のミッションは、`parse_json_content` 関数を完成させることです。

1.  入力された文字列（`json_str`）を `serde_json::from_str` を使ってパースします。
2.  パースが成功したら、`Some(Value)` の形で返します。
3.  パースが失敗したら、`None` を返します。

`src/lessons/lesson_1_4.rs` を開いて、挑戦してみてください。

`cargo test` でテストがすべて緑色になったらクリアです！
