## 概要

RustでLSP(Language Server Protocol)の勉強をしていた時の学習記録

注: このリポジトリ内の文書は生成AIが作成しており、特にrust-analyzerの解説ファイル周辺は間違いや嘘がとても多いのでご注意ください。

claude codeでlessonを1つずつ作ってもらい、それを解いて添削してもらうという形で進めた

lessonは、./explanations/ に解説ファイルを、./src/lessons/に問題ファイルを置く形で作成してもらった。

問題を解く流れ

* 解説ファイルを見て内容を理解する
* 理解できないところがあったら生成し直してもらう
* 問題ファイルの中で一部コードが欠けている場所があるので(そのような問題ファイルになるように生成AIに指示)、その部分を自力で埋める
* 分からないところがあれば生成AIにヒントをもらう
* 一通り解いたらテストを実行する
* 全てPassしたら、自分が書いたコードを生成AIに添削してもらう

本lessonを始めるにあたって最初にclaude codeに投げたプロンプト

```
 現在lspとrustの勉強をしており、最終的にrust-analyzerにcontributeしたい. lspもrustも完全初心者だが、goなどの静的型付け言語の経験はある.
 これから1つずつlspの理解を深めて最終的にrust-analyzerにcontributeできるようになるためのlessonを作成してほしい.
 各lessonは、rustの問題ファイルとmarkdownの解説ファイルを作成するところから始まる.
 rustのファイルはテストと関数のみを用意して. そこまで終わったら自分で問題を解く. 
 解いたら終わったことを使えるから、テストを実行して正しく回答できているかを判定して. テストがfailしたらやり直しを行う. 
 passしたら, 僕が書いたコードの改善案を提示して. 提示案を受け入れるかはこちらで決める. 受け入れる場合は改善案の内容を適用して.

なお、lessonが1つずつ進んでいくごとに内容自体の難易度は上がっていくが、問題の難易度はあまり上がらないように、lessonの内容を簡素化したり、解説を丁寧にして. 
また、lessonの最終目標はrust-analyzerにcontributeすることなので、そのゴールに向かっていけるようにlessonを設定して.
lessonの総数は数十〜100程度を想定している

[重要]
Explanationでは、rust初心者に向けた丁寧な説明を心がけて.
あくまで概念を丁寧に、実装はポイントを抑えた簡潔な説明を意識して.
実装の部分で、ヒントは書いてもいいがそこにほぼ答えとなるようなことは書いてはいけない.
新しくlessonを作成する時は、直近のlessonの内容を最も参考にして
```

## 学習結果

数週間ほど学習を行ったのち、rust-analyzerに最初のPRを提出できた
https://github.com/rust-lang/rust-analyzer/pull/20432

## 振り返り

まず、全体的にlesson量が多かった。もっとlesson削って早めにcontributeしようと思えばできた。
特に、lesson1の内容が多すぎる上に、実際のrust-analyzerのアーキテクチャと異なりひたすら文字列を弄るコードを書いていたので後半からはlessonの意味が薄れた。
ただ、lesson1はrustの言語仕様に関する解説が多く、そこら辺は非常に役立った。

lesson2はちょうど良いくらいのボリューム。一番上手く進めることができた。

lesson3, 4は急に難易度が上がり、難易度調整に苦労した。実装量も増えてやる気が下降気味になってきたので途中で打ち切り、rust-analyzerのissueを漁り始めた
問題ファイルの実装も、rust-analyzerの中身とは似ても似付かぬようなものだったため、もっと早く打ち切ってもよかった。

rust_analyzer/に、取り組もうとしたissueの解説ファイルを作ってもらったが、驚くほど間違いが多すぎて萎えた。
かなり情報を与えても隙あらば嘘をつく。その嘘を土台に新しい嘘を塗り固めるのでお手上げ。